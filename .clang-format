# =========================================================================
# Clang-Format Style File for Competitive Programming (v5 - Final & Polished)
# 适用于算法竞赛的 Clang-Format 配置文件
#
# 主要风格: K&R 风格的变种 (大括号不换行), 基于 Google Style 修改
# =========================================================================

# --- 基础风格 ---
BasedOnStyle: Google

# --- 缩进与对齐 ---
IndentWidth: 4
UseTab: Never

# --- 换行与空格 ---
ColumnLimit: 120
Cpp11BracedListStyle: true

# --- 大括号与代码块控制 (核心修改) ---
# 控制不同场景下大括号的换行行为，以及短代码块的显示方式。

# 1. 大括号强制换行策略 (全部设为 false 实现 K&R 风格)
BraceWrapping:
  AfterFunction: false
  AfterClass: false
  AfterControlStatement: false
  AfterEnum: false
  AfterNamespace: false
  AfterUnion: false
  BeforeCatch: false
  BeforeElse: false

# 2. 短代码块单行显示策略 (特例处理)
# 允许空的 {} 块保持在同一行。
AllowShortBlocksOnASingleLine: Empty
# 允许短的构造函数（包括带初始化列表的）保持在同一行。
AllowShortConstructorsOnASingleLine: true
# 只允许空的函数体 {} 保持在同一行。
AllowShortFunctionsOnASingleLine: Empty

# --- 指针与引用对齐 ---
PointerAlignment: Left

# --- 头文件排序 ---
IncludeCategories:
  - Regex:           '^<bits/stdc++.h>'
    Priority:        1
  - Regex:           '^<.*>'
    Priority:        2
  - Regex:           '.*'
    Priority:        3

# --- 其他 ---
FixNamespaceComments: true